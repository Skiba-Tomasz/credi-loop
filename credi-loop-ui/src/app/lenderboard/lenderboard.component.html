<div class="bg-section">
  <div class="card card-flush mr-1 ml-1 mt-2">
    <div class="d-flex align-items-center justify-content-between mt-4 mx-2">
      <input
        type="text"
        class="form-control search mr-2"
        placeholder="Search for address or description..."
        [(ngModel)]="searchTerm"
        (input)="onSearch()"
      />
      <button
        type="button"
        class="btn btn-success"
        style="white-space: nowrap"
        (click)="openLenderBoardModal()"
      >
        Add your proposal
      </button>
    </div>

    <table
      class="table table-dark"
      style="width: calc(100% - 20px); margin: 10px; box-sizing: border-box"
    >
      <tbody>
        <tr>
          <th>Address</th>
          <th>CrediScore</th>
          <th>Amount</th>
          <th>Installments<br />(monthly)</th>
          <th>APY<br />%</th>
          <th>Description</th>
          <th></th>
        </tr>
        <tr *ngFor="let record of filteredBoardData">
          <td>
            {{ record.address.slice(0, 3) + "..." + record.address.slice(-5) }}
          </td>
          <td>{{ record.crediScore }}</td>
          <td>{{ record.amount }}</td>
          <td>{{ record.installments }}</td>
          <td>{{ record.apy }}</td>
          <td>{{ record.description }}</td>
          <td>
            <button
              *ngIf="record.accepted === false; else acceptedTemplate"
              type="button"
              class="btn btn-success"
              (click)="onLend(record)"
            >
              Lend
            </button>
            <ng-template #acceptedTemplate> Already accepted </ng-template>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<ngx-spinner type="ball-scale-multiple"></ngx-spinner>